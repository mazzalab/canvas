<!doctype html>
{% extends 'base.html' %}
{% block head %}
{{ super() }}
<style>
  label{
    font-weight: normal!important;
    font-size:90%;
  }
  input[type="radio"]{
    margin: 3px 0 0;
  }
</style>
<script>
    function readTextFile(file) {
      var rawFile = new XMLHttpRequest();
      rawFile.overrideMimeType("application/json");
      rawFile.open("GET", file, true);
      rawFile.onreadystatechange = function() {
          if (rawFile.readyState === 4 && rawFile.status == "200") {
              return rawFile.responseText;
          }
      }
      rawFile.send(null)
    }
</script>

<script id="json-reader">

  console.log({{choices|tojson|safe}})
  console.log({{choices|tojson|safe}}.includes('mirbase'))
  var jsonData;
  var mirbase_jsonData
  $.ajax({
    dataType: "json",
    url: "{{ json_out }}",
    async: false,
    success: function(data){jsonData = data}
  });

  if ({{choices|tojson|safe}}.includes('mirbase')){
    $.ajax({
      dataType: "json",
      url: "{{ json_out }}".replace(".json", "_mirbase.json"),
      async: false,
      success: function(data){mirbase_jsonData = data}
    });
  }

  console.log(jsonData)
  console.log(mirbase_jsonData)


</script>

<script type ="text/javascript">
  $(document).on("click", "#loadpage", function () {
      var values = $('#modal-sel').val();

      // set fso = CreateObject("Scripting.FileSystemObject");
      // set s = fso.CreateTextFile("\test.txt", True);
      console.log("downloading")
      console.log(values)
      var element = document.createElement('a');
      element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(values.join("\n")));
      element.setAttribute('download', "selected_genes.txt");

      element.style.display = 'none';
      document.body.appendChild(element);

      element.click();

      document.body.removeChild(element);
      // for (i=0; i< )
      // s.writeline(document.passForm.input1.value);
      // s.writeline(document.passForm.input2.value);
      // s.writeline(document.passForm.input3.value);
      // s.Close();
    });
</script>

<script>
    jQuery(function($) {
      var panelList = $('.draggablePanelList');

      panelList.sortable({
          // Only make the .panel-heading child elements support dragging.
          // Omit this to make then entire <li>...</li> draggable.
          handle: '.panel-heading',
          update: function() {
              $('.panel', panelList).each(function(index, elem) {
                   var $listItem = $(elem),
                       newIndex = $listItem.index();

                   // Persist the new indices.
              });
          }
      });
    });

</script>
<script>
    var cnvselection=-1;
    function updateGenes(cnvselection, jsonData) {
      {% for c in choices %}
          {% if c!='mirbase' %}
                $('#sel-{{c}}').empty();
                // console.log("UPDATING "+ '#sel-{{c}}')
                // console.log("CHOICE: "+cnvselection)
                if (cnvselection==-1){
                  console.log("no choice")
                }else{
                  enableWin("{{c}}")
                  var position = 'inside';
                  var radios = document.getElementsByName("radio-{{c}}");
                  for (var i = 0, length = radios.length; i < length; i++) {
                      if (radios[i].checked) {
                          // do whatever you want with the checked radio
                          position = radios[i].value;

                          document.getElementById("radio-{{c}}-inside-label").innerHTML = 'inside ('+jsonData[cnvselection].{{c}}_inside_count+')';
                          document.getElementById("radio-{{c}}-cross-label").innerHTML = 'cross ('+jsonData[cnvselection].{{c}}_cross_count+')';
                          document.getElementById("radio-{{c}}-distal-label").innerHTML = 'distal ('+jsonData[cnvselection].{{c}}_distal_count+')';

                          if(position == 'inside-{{c}}'){
                            var splitgenes = jsonData[cnvselection].{{c}}_inside.split(',')
                          }else if (position == 'cross-{{c}}') {
                            var splitgenes = jsonData[cnvselection].{{c}}_cross.split(',')
                          }else if (position == 'distal-{{c}}') {
                            var splitgenes = jsonData[cnvselection].{{c}}_distal.split(',')
                          }
                          // only one radio can be logically checked, don't check the rest
                          break;
                      }
                  }
                  // console.log("CORRECT CHOICE: ")
                  // console.log(jsonData[cnvselection])

                  for (i = 0; i < splitgenes.length; i++) {
                      // console.log(splitgenes[i])
                      if ('{{c}}' == 'mirna' && splitgenes[i]){
                        // console.log("UPDATING MIRNA WITH")
                        // console.log(splitgenes[i])
                        var regexp = /"ID=(.*);Alias=(.*);Name=(.*)"/gm;
                        var match = regexp.exec(splitgenes[i])
                        if (match){
                          genename = match[3]
                          geneID = match[1]
                        }else{
                          genename = '.'
                          geneID = '0'
                        }

                      }else{
                        genename = splitgenes[i]
                      }
                      if(genename!='.'){
                        if ('{{c}}' == 'mirna' && geneID){
                          $('#sel-{{c}}').append($('<option></option>').attr('value', geneID).text(geneID));
                        }else{
                          $('#sel-{{c}}').append($('<option></option>').attr('value', genename).text(genename));
                        }
                      }
                    }
                }
          {% endif %}
      {% endfor %}
    };

</script>

<script>
  $(document).on("click", ".open-AddBookDialog", function () {
    $(".modal-dialog").draggable({
      handle: ".modal-header"
    });
    $('.modal-content').resizable({
      // alsoResize: ".modal-dialog",
      // alsoResize: "#modal-sel",
      // minHeight: 400,
      minWidth: 300
    });
    $('#myModal').on('show.bs.modal', function () {
        $(this).find('.modal-body').css({
            'max-height':'100%'
        });
    });
        var category = $(this).data('category');
        var position = 'inside-gene';
        var radios = document.getElementsByName("radio-"+category);
        for (var i = 0, length = radios.length; i < length; i++) {
           if (radios[i].checked) {
               // do whatever you want with the checked radio
                position = radios[i].value;
                break;
            };
        };
        document.getElementById("modal-title").innerHTML = category + ' - ' + position.split('-')[0];
        function updateModal(){
          var modaldata = document.getElementById("sel-"+category).innerHTML;
          document.getElementById("modal-sel").innerHTML = modaldata
        }
        updateModal()
       // $(".modal-body #bookId").val( myBookId );

       // As pointed out in comments,
       // it is superfluous to have to manually call the modal.
       // $('#addBookDialog').modal('show');
  });
</script>

<script>
  $(document).on("click", ".open-genesDialog", function () {
    $(".modal-dialog").draggable({
      handle: ".modal-header"
    });
    $('.modal-content').resizable({
      // alsoResize: ".modal-dialog",
      // alsoResize: "#modal-sel",
      // minHeight: 400,
      minWidth: 300
    });
    $('#genesModal').on('show.bs.modal', function () {
        $(this).find('.modal-body').css({
            'max-height':'100%'
        });
    });

    var cnvdrop = document.getElementById("cnv-dropdown");
    cnvselection = cnvdrop.options[cnvdrop.selectedIndex].value;
    var category = $(this).data('category');
    var position = 'inside-gene';
    var genelist_choices = {{genes_choices|tojson|safe}}
    var radios = document.getElementsByName("radio-"+category);
    for (var i = 0, length = radios.length; i < length; i++) {
       if (radios[i].checked) {
           // do whatever you want with the checked radio
            position = radios[i].value;
            break;
        };
    };

    console.log(position)
    document.getElementById("genesmodal-title").innerHTML = category + ' - ' + position.split('-')[0];
    document.getElementById("classification").innerHTML = "<thead><tr id=\"header-row\"></tr></thead><tbody id=\"genestable-body\"></tbody>"

    function updategenesModal(){

      document.getElementById("header-row").innerHTML = "<th>Gene</th>"
      for (var i = 0, length = genelist_choices.length; i < length; i++){
        document.getElementById("header-row").innerHTML += "<th>"+genelist_choices[i].replace("_genelist","")+"</th>"
      }

      if(position == 'inside-gene'){
        var splitgenes = jsonData[cnvselection].gene_inside.split(',')
      }else if (position == 'cross-gene') {
        var splitgenes = jsonData[cnvselection].gene_cross.split(',')
      }else if (position == 'distal-gene') {
        var splitgenes = jsonData[cnvselection].gene_distal.split(',')
      }

      var tablehtml = ""
      for (var i = 0, length = splitgenes.length; i < length; i++){
        console.log(splitgenes[i])
        tablehtml += "<tr><td>"+splitgenes[i]+"</td>"
        console.log(genelist_choices.length)
        for (var j = 0, lengthj = genelist_choices.length; j < lengthj; j++){
          console.log(genelist_choices)
          genelist_position = position.replace("-gene", "")
          choice_name = genelist_choices[j].replace("genelist", genelist_position)
          if (jsonData[cnvselection][choice_name].includes(splitgenes[i])){
            tablehtml += "<td><img src=\"../static/img/smallcheck.png\" /><span style=\"opacity:0\">Y</span></td>"
          }else{
            tablehtml += "<td><img src=\"../static/img/smallcross.png\" /><span style=\"opacity:0\">N</span></td>"
          }
        }
        tablehtml += "</tr>"
      }
      document.getElementById("genestable-body").innerHTML += tablehtml
      $('#classification').DataTable().destroy();
      $('#classification').DataTable().draw();

    }


    updategenesModal()

       // $(".modal-body #bookId").val( myBookId );
       //
       // // As pointed out in comments,
       // // it is superfluous to have to manually call the modal.
       // $('#addBookDialog').modal('show');
  });
</script>

<script>
  $(document).on("click", ".open-mirbaseDialog", function () {
    $(".modal-dialog").draggable({
      handle: ".modal-header"
    });
    $('.modal-content').resizable({
      // alsoResize: ".modal-dialog",
      // alsoResize: "#modal-sel",
      // minHeight: 400,
      minWidth: 300
    });
    $('#genesModal').on('show.bs.modal', function () {
        $(this).find('.modal-body').css({
            'max-height':'100%'
        });
    });

    var cnvdrop = document.getElementById("cnv-dropdown");
    cnvselection = cnvdrop.options[cnvdrop.selectedIndex].value;
    var category = $(this).data('category');
    var position = 'inside-mirna';
    // var genelist_choices = {{genes_choices|tojson|safe}}
    var radios = document.getElementsByName("radio-"+category);
    for (var i = 0, length = radios.length; i < length; i++) {
       if (radios[i].checked) {
           // do whatever you want with the checked radio
            position = radios[i].value;
            position_index = i
            break;
        };
    };


    var mir_selects = [];

    // If we want selects only:
    //$.each($("#sel-mirna option:selected"), function(){
    //   console.log("You have selected - " + $(this).text);
    //   mir_selects.push($(this).val())
    // });

    // Else, on every miRNA:

    var all_mirnas = document.getElementById("sel-mirna");
    for (i = 0; i < all_mirnas.length; i++) {
        mir_selects.push(all_mirnas[i].value);
    }

    console.log(position)
    console.log(mir_selects)
    document.getElementById("mirbasemodal-title").innerHTML = category + ' - ' + position.split('-')[0];
    document.getElementById("mirbase-classification").innerHTML = "<thead><tr id=\"mirbaseheader-row\"></tr></thead><tbody id=\"mirbasetable-body\"></tbody>"

    function updatemirbaseModal(){
      document.getElementById("mirbaseheader-row").innerHTML = "<th>miRNA ID</th>"
      for (var i = 0, length = Object.keys(mirbase_jsonData).length; i < length; i++){
          document.getElementById("mirbaseheader-row").innerHTML += "<th>"+Object.keys(mirbase_jsonData)[i]+"</th>"
      }

      mirbase_tablehtml = ""

      for (var i = 0, length = mir_selects.length; i < length; i++){
        mirbase_tablehtml += "<tr><td>"+mir_selects[i]+"</td>"
        for (var j = 0, length_targets = Object.keys(mirbase_jsonData).length; j < length_targets; j++){
            console.log("Checking "+ mir_selects[i] + "in " + Object.keys(mirbase_jsonData)[j])
            mir_entry = mirbase_jsonData[Object.keys(mirbase_jsonData)[j]][position_index][mir_selects[i]]
            console.log(mir_entry)
            // The mirnas are taken from the window: they could or could not be in inside,cross,distal. Must be checked.
            if (mir_entry){
                if (mir_entry[0] != ["."]){
                  mirbase_tablehtml += "<td><img src=\"../static/img/smallcheck.png\" /><a href=\"\" style=\"vertical-align:middle\">&nbsp&nbspList</a></td>"
                }else{
                  mirbase_tablehtml += "<td><img src=\"../static/img/smallcross.png\" /><span style=\"opacity:0\">N</span></td>"
                }
            }else{
                mirbase_tablehtml += "<td><img src=\"../static/img/smallcross.png\" /><span style=\"opacity:0\">N</span></td>"
            }
        }
        mirbase_tablehtml += "</tr>"

      }
      document.getElementById("mirbasetable-body").innerHTML += mirbase_tablehtml
      $('#mirbase-classification').DataTable().destroy();
      $('#mirbase-classification').DataTable().draw();
    };

    updatemirbaseModal();

  });
</script>

<!-- // $(document).ready(function() {
//     $("#mirbasemodal-link").click(function(){
//         $.each($("#sel-mirna option:selected"), function(){
//           // window.open("http://www.mirbase.org/cgi-bin/mirna_entry.pl?acc="+$(this).val(), '_blank');
//           // window.focus();
//           console.log("You have selected - " + $(this).val());
//         });
//     });
// }); -->


<script>
    function enableWin(category) {
        document.getElementById("modal-link-"+category).disabled = false;
        if (category == 'gene' && document.getElementById("genesmodal-link")){
            document.getElementById("genesmodal-link").disabled = false;
        }
    }

    function disableWin(category) {
        document.getElementById("modal-link-"+category).disabled = true;
        if (category == 'gene' && document.getElementById("genesmodal-link")){
            document.getElementById("genesmodal-link").disabled = true;
        }
    }
</script>
{% endblock %}

{% block title %}Results{% endblock %}
{% block navbar %}
{{ super() }}
{% endblock %}

{% block content %}
<div class="parallax filter-gradient blue" data-color="blue" style="height:100px !important;">
    <div class="parallax-background">
        <img src="../static/img/dna2.png">
    </div>
</div>
<div class= "section section-gray section-clients" style="padding-top:10px; height: fit-content;">
  <div class="results-container container">
      <h2 style="margin-left:30px; margin-bottom: 40px; color: #307ba0;">Results</h2>
    <div style="display:-webkit-box; margin-left: 30px;">
        <div style="display: -webkit-inline-box; vertical-align: -webkit-baseline-middle;">

        <select data-style="btn-new" id="cnv-dropdown" name="CNVs"></select>
        <script>
            let dropdown = $('#cnv-dropdown');

            // dropdown.empty();

            dropdown.append('<option selected="true" value="-1" disabled>Choose CNV</option>');
            dropdown.prop('selectedIndex', 0);

            // Populate dropdown with list of CNVs
            $.getJSON("{{ json_out }}", function (data) {
            $.each(data, function (key, entry) {
              dropdown.append($('<option></option>').attr('value', entry.index).text(entry.CHR+": "+entry.START+" - "+entry.END));
            })
            });

            document.getElementById('cnv-dropdown').addEventListener('change',function(){
              var cnvdrop = document.getElementById("cnv-dropdown");
              cnvselection = cnvdrop.options[cnvdrop.selectedIndex].value;
              updateGenes(cnvselection, jsonData);
            });
        </script>
        </div>
        <span id="download-span" style="vertical-align:-webkit-baseline-middle; margin-left:20px;">
          or download results as an &nbsp
          <a class="btn btn-success btn-lg active" href="{{file_out}}" download="{{download_name}}"
          style="margin-left: 10px; font-size: 14px; vertical-align: baseline; padding: 5px 15px 5px 15px; background-color: #16821f; color: #ffffff;border-color: #34aa3a;"
          role="button" aria-pressed="true">
          Excel File</a> &nbsp or <a class="btn btn-success btn-lg active" href="{{text_file_out}}" download="{{text_download_name}}"
          style="margin-left: 10px; font-size: 14px; vertical-align: baseline; padding: 5px 15px 5px 15px; background-color: #ea7900; color: #ffffff;border-color: #ffba58;"
          role="button" aria-pressed="true">CSV File</a>
        </span>
    </div>

    <br>
    <div class="row draggablePanelList" style="margin-top: 35px; margin-right: 15px; margin-left: 15px;">
    {% for c in choices %}
      {% if c!='mirbase' %}
            <div class="col-sm-4">
              <div class="panel panel-info">
                <div class="panel-heading" style="font-weight: bold; color: #ffffff; background-color: #307ba0; border-color: #307ba0">{{ c }}</div>
                <div class="panel-body">
                  <form>

                    <div id="radios">
                        <div class="radio-inline">
                          <label class="form-check-label-{{c}}">
                          <input type="radio" class="form-check-input" name="radio-{{c}}" id="inside-{{c}}" value="inside-{{c}}"
                          checked><span id="radio-{{c}}-inside-label">inside (0)</span>
                          </label>
                        </div>
                        <div class="radio-inline">
                          <label class="form-check-label-{{c}}">
                          <input type="radio" class="form-check-input" name="radio-{{c}}" id="cross-{{c}}" value="cross-{{c}}"
                          unchecked><span id="radio-{{c}}-cross-label">cross (0)</span>
                          </label>
                        </div>
                        <div class="radio-inline">
                          <label class="form-check-label-{{c}}">
                          <input type="radio" class="form-check-input" name="radio-{{c}}" id="distal-{{c}}" value="distal-{{c}}"
                          unchecked><span id="radio-{{c}}-distal-label">distal (0)</span>
                          </label>
                        </div>
                        <div class="help-tip">
                          <p>You can select among three subsets of <b>{{ c }}</b>s:<br /><br />
                            &nbsp;&nbsp;- <b>inside</b>:<br />
                            &nbsp;&nbsp;- <b>cross</b>:<br />
                            &nbsp;&nbsp;- <b>distal</b>:<br />
                        </p>
                        </div>
                    </div>

                    <select multiple class="form-control" id="sel-{{c}}"></select>
                    <div>

                    </div>
                    <div style="position:relative; margin-top:10px; min-height: 36px;">

                    {% if c == 'gene' %}
                        <button class="btn" type="button" id="getSelectsBtn-{{c}}"
                        style="padding: 4px 8px; border-width: 1px;">
                        <img src="../static/img/gc_small.png" style="max-width:100%" /></button>
                        <script>
                          $(document).ready(function() {
                              $("#getSelectsBtn-{{c}}").click(function(){
                                  $.each($("#sel-{{c}} option:selected"), function(){
                                    window.open("https://www.genecards.org/cgi-bin/carddisp.pl?gene="+$(this).val(), '_blank');
                                    // window.focus();
                                    console.log("You have selected - " + $(this).val());
                                  });
                              });
                          });
                        </script>
                        {% if genes_choices!=[] %}
                            <a id="genesmodal-link" href="#genesModal" data-toggle="modal" data-category="{{c}}" data-position=""
                            data-backdrop="false" title="Add this item" class="open-genesDialog new-win btn" style="position:relative">
                            <!-- <a id="genesmodal-link" href="#genesModal" data-toggle="modal" data-category="{{c}}" data-position=""
                            data-backdrop="false" title="Add this item" class="open-AddBookDialog new-win"> -->
                            Classification
                            <!-- </a> -->
                            <!-- <script>
                              $(document).ready(function() {
                                  $("#getSelectGenesBtn-{{c}}").click(function(){

                                  });
                                });
                            </script> -->
                            </a>
                        {% endif %}
                    {% endif %}

                    {% if c == 'mirna' %}
                        <button class="btn" type="button" id="getSelectsBtn-{{c}}"
                        style="padding: 8px 8px; font-size:95%; font-weight: bold; color:#d60000; border-width: 1px;">miRBase
                        </button>
                        <script>
                          $(document).ready(function() {
                              $("#getSelectsBtn-{{c}}").click(function(){
                                  $.each($("#sel-{{c}} option:selected"), function(){
                                    window.open("http://www.mirbase.org/cgi-bin/mirna_entry.pl?acc="+$(this).val(), '_blank');
                                    // window.focus();
                                    console.log("You have selected - " + $(this).val());
                                  });
                              });
                          });
                        </script>

                        {% if 'mirbase' in choices %}
                          <a id="mirbasemodal-link" href="#mirbaseModal" data-toggle="modal" data-category="{{c}}" data-position=""
                          data-backdrop="false" title="Add this item" class="open-mirbaseDialog new-win btn" style="position:relative">
                          Classification
                          </a>
                          <!-- <script>
                            $(document).ready(function() {
                                $("#mirbasemodal-link").click(function(){
                                    $.each($("#sel-mirna option:selected"), function(){
                                      // window.open("http://www.mirbase.org/cgi-bin/mirna_entry.pl?acc="+$(this).val(), '_blank');
                                      // window.focus();
                                      console.log("You have selected - " + $(this).val());
                                    });
                                });
                            });
                          </script> -->
                        {% endif %}

                    {% endif %}

                    {% if c == 'pseudogene' %}
                        <button class="btn" type="button" id="getSelectsBtn-{{c}}"
                        style="padding: 5px 8px 9px 8px; border-width: 1px;">
                        <img src="../static/img/ensembl_small.png" style="max-width:100%" /></button>
                        <script>
                          $(document).ready(function() {
                              $("#getSelectsBtn-{{c}}").click(function(){
                                  $.each($("#sel-{{c}} option:selected"), function(){
                                    window.open("https://www.ensembl.org/Homo_sapiens/Gene/Summary?db=core;t="+$(this).val(), '_blank');
                                    // window.focus();
                                    console.log("You have selected - " + $(this).val());
                                  });
                              });
                          });
                        </script>
                    {% endif %}
                    <a id="modal-link-{{c}}" href="#myModal" data-toggle="modal" data-category="{{c}}" data-position=""
                    data-backdrop="false" title="Add this item" class="open-AddBookDialog new-win">
                    <img src="../static/img/newwin.png"></a>
                    <script>
                      disableWin("{{c}}")
                    </script>
                  </div>
                  </form>
                </div>
              </div>
            </div>
        {% endif %}
    {% endfor %}
    <script>
        var cnvdrop = document.getElementById("cnv-dropdown");
        cnvselection = cnvdrop.options[cnvdrop.selectedIndex].value;
        {% for c in choices %}
        var radios = document.getElementsByName("radio-{{c}}");
        var prev = null;
        for(var i = 0; i < radios.length; i++) {
            radios[i].onclick = function() {
                updateGenes(cnvselection, jsonData)
            };
        }
        {% endfor %}
    </script>
    </div>

  </div>

</div>
<!-- Trigger/Open The Modal -->


<div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content" style="min-height:400px; max-width:300px">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                 <h4 class="modal-title" id="modal-title" style="text-transform:capitalize">Title</h4>

            </div>
            <div class="modal-body" style="height:calc(100% - 100px);">
              <select multiple class="form-control" id="modal-sel"
                style=" min-height: calc(100% - 25px); height:280px"></select>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button id="loadpage" type="button" class="btn btn-primary">Download selected</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>


<div id="genesModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content" style="min-height:400px; height:fit-content ;width: fit-content;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                 <h4 class="modal-title" id="genesmodal-title" style="text-transform:capitalize">Title</h4>

            </div>
            <div class="modal-body" style="height:calc(100% - 100px);">
                <table id="classification" class="table table-striped table-bordered">
                </table>
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> -->
                <!-- <button id="genesloadpage" type="button" class="btn btn-primary">Download selected</button> -->
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->


<div id="mirbaseModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content" style="min-height:400px; height:fit-content ;width: fit-content;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                 <h4 class="modal-title" id="mirbasemodal-title" style="text-transform:capitalize">Title</h4>

            </div>
            <div class="modal-body" style="height:calc(100% - 100px);">
                <table id="mirbase-classification" class="table table-striped table-bordered">
                </table>
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> -->
                <!-- <button id="genesloadpage" type="button" class="btn btn-primary">Download selected</button> -->
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

{% endblock %}
